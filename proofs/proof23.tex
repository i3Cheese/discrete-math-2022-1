\subsection{Теорема Дилуорса}

\textbf{Теорема:} Наибольший размер антицепи в порядке равен наименьшему количеству цепей в разбиениях порядка на непересекающиеся цепи.

\textbf{Доказательство:} 

\hspace{0.5cm}\parbox{17cm} {
    Напомню, что теорема Дилуорса работает только для конечных порядков, т.е их мощность это некоторое число $n$. 

    Для начала, любая цепь в разбиении содержит в себе не более одного элемента антицепи, иначе два элемента антицепи были бы сравнимы и антицепь не была бы антицепью, противоречие.

    Давайте докажем теоремму дилуорса по индукции для мощности множества, на котором определен порядок, а именно: пусть для порядков, мощности $< n$, утверждение теоремы выполняется. Докажем, что утверждение выполняется для порядков мощности $n$.

    Для пустого множества удтверждение теоремы очевидно выполняется. Потому, база индукции $n = 0$ корректна.

    Пусть утверждение теоремы Дилуорса справедливо для конечных порядков, определенных на множествах мощностью $< n$. Докажем утверждение для конечных порядков мощности $n$.

    Возьмем порядок, определенный на множестве мощности $n$ и назовем его $P$. У всякого конечного порядка есть минимум, пусть это элемент $m$.

    Также, пусть $Q$ -- это всё множество $P$ без минимума $m$, а $s$ это размер максимальной антицепи в множестве $Q$. Для множества $Q$ теорема справедлива, т.к мощность $Q$ меньше $n$.

    Максимальный размер антицепи в $P$ может быть равен $s + 1$ или $s$. Если он равен $s + 1$, то мы можем разбить $P$ на $s + 1$ непересекающуюся цепь: возьмем разбиение $Q$ на $s$ цепей и добавим к данному разбиению элемент $m$ как цепь из одного элемента. Иначе, сделаем следующее.

    Рассмотрим каждую цепь из разбиения $Q$ на $s$ цепей по отдельности. Пусть $a_i$ -- минимальный элемент $i$-ой цепи в разбиении, для которого существует антицепь размера $s$, содержащая его. \textbf{Утверждение:} элементы $a_i$ образуют антицепь.

    Действительно, пусть $i \neq j, a_i \le a_j$. Тогда возьмем цепь, содержащую $a_i$ в качестве элемента, посмотрим какой элемент антицепи содержится в цепи, содержащей $a_j$. Если это сам $a_j$, то получается, что в антицепи есть два сравнимых элемента, что противоречит условию. Если этот элемент $\le a_j$, то $a_j$ это не минимальный элемент, для которого существует антицепь размера $s$, содержащая его. Осталось рассмотреть случай, когда данный элемент больше либо равен $a_j$.

    Назовем этот элемент $x$. По транзитивности, т.к $a_i \le a_j$, $a_j \le x \Rightarrow a_i \le x$. Получается, что в антицепи два элемента сравнимы. Противоречие.

    Итак, если элементы $a_i$ вместе с $m$ образуют антицепь, то размер максимальной антицепи в $P$ равен $s + 1$, но ведь мы предположили что этот размер равен $s$. Потому $\exists k: m \le a_k$. Возьмем все элементы, содержащиеся в той же цепи, что и $a_k$, больше либо равные $a_k$. Объединим их вместе с $m$ в цепь и исключим данную цепь из множества. Получившееся множество $P'$ имеет размер антицепи равный $s - 1$, т.к иначе $a_j$, который мы исключили, был бы не минимален. Также, т.к мощность множества $P' < n$, данное множество можно разбить минимум на $s - 1$ непересекающихся цепей. Получается, что добавив удаленную цепь обратно мы сможем разбить множество $P$ не менее, чем на $s$ цепей и получить в нем антицепь размера не более, чем $s$. Переход доказан.
}
